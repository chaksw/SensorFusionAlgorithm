# Complement of KF - IMU example

Complement Key - 在数学模型的基础上，需要对推导步骤进行拆解，当中有些步骤需要结合实际传感器参数和推导来确定：

1.  确定先验概率，即确定传感器的状态参数（比如这里输出的是角度和偏差，而不是之前理解的角度和角速度）并通过标定确定初始状态值。
2.  确认状态转移方程，包括转移矩阵(F)的形式，外部控制参数（如这里的角速度rate）、以及外部干扰矩阵（这里的角度误差Q_angle和偏差误差Q_bias），根据模型计算协方差矩阵（P）
3.  确认观测方程，包括观测矩阵形式，结合测量值计算*Innovation residual*.
4.  确定测量误差的方差，用于计算*Innovation covariance*
5.  根据数学模型，计算Kalman Gain
6.  更新状态值
7.  更新协方差矩阵